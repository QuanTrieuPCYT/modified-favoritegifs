(function(o,r,a,t,u,f){"use strict";function l(n){for(let e of n.embeds)if(e.type==="gifv"||e.type==="image"&&e.url.endsWith(".gif"))return e.url;return null}const s=a.findByProps("openLazy","hideActionSheet"),{FormRow:d,FormIcon:p}=u.Forms,h=r.before("openLazy",s,function(n){const[e,g,y]=n;g==="MessageLongPressActionSheet"&&e.then(function(v){const A=r.after("default",v,function(R,F){t.React.useEffect(function(){return function(){A()}},[]);let[P,i]=F.props?.children?.props?.children?.props?.children;const c=P?.props?.message??y?.message;!i||!c||!l(c)||i.unshift(t.React.createElement(d,{label:"Add GIF to Favorites",leading:t.React.createElement(p,{style:{opacity:1},source:f.getAssetIDByName("ic_star_filled")}),onPress:function(){s.hideActionSheet()}}))})})}),m=function(){return h()};return o.onUnload=m,o})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.components,vendetta.ui.assets);
