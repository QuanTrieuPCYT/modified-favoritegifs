(function(o,r,s,t,u,f,d,l){"use strict";function g(n){for(let e of n.embeds)if(e.type==="gifv"||e.type==="image"&&e.url.endsWith(".gif"))return e.url;return null}const i=s.findByProps("openLazy","hideActionSheet"),{FormRow:p,FormIcon:h}=u.Forms,m=r.before("openLazy",i,function(n){const[e,y,F]=n;y==="MessageLongPressActionSheet"&&e.then(function(A){const S=r.after("default",A,function(b,I){t.React.useEffect(function(){return function(){S()}},[]);let[L,c]=I.props?.children?.props?.children?.props?.children;const a=L?.props?.message??F?.message;if(!c||!a||!g(a))return;const U=s.findByStoreName("UserSettingsProtoStore");c.unshift(t.React.createElement(p,{label:"Add GIF to Favorites",leading:t.React.createElement(h,{style:{opacity:1},source:f.getAssetIDByName("ic_star_filled")}),onPress:function(){i.hideActionSheet(),d.showToast("Added GIF to Favorites"),l.logger.log(U.frecencyWithoutFetchingLatest)}}))})})}),v=function(){return m()};return o.onUnload=v,o})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.components,vendetta.ui.assets,vendetta.ui.toasts,vendetta);
