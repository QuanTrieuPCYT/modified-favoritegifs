(function(o,r,s,t,u,d,f,l){"use strict";function p(n){for(let e of n.embeds)if(e.type==="gifv"||e.type==="image"&&e.url.endsWith(".gif"))return e.url;return null}const i=s.findByProps("openLazy","hideActionSheet"),{FormRow:g,FormIcon:h}=u.Forms,m=r.before("openLazy",i,function(n){const[e,y,F]=n;y==="MessageLongPressActionSheet"&&e.then(function(A){const S=r.after("default",A,function(B,I){t.React.useEffect(function(){return function(){S()}},[]);let[U,a]=I.props?.children?.props?.children?.props?.children;const c=U?.props?.message??F?.message;if(!a||!c||!p(c))return;const b=s.findByStoreName("UserSettingsProtoStore");a.unshift(t.React.createElement(g,{label:"Add GIF to Favorites",leading:t.React.createElement(h,{style:{opacity:1},source:d.getAssetIDByName("ic_star_filled")}),onPress:function(){i.hideActionSheet(),f.showToast("Added GIF to Favorites"),l.logger.log(b)}}))})})}),v=function(){return m()};return o.onUnload=v,o})({},vendetta.patcher,vendetta.metro,vendetta.metro.common,vendetta.ui.components,vendetta.ui.assets,vendetta.ui.toasts,vendetta);
